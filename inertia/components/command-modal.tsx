import { FunctionComponent } from 'react'
import { cn } from '~/lib/utils'
import { BookCardProps } from './ui/book-card'
import paymentImage from '~/assets/images/payment-methods.png'
import { Button } from './ui/button'
export type CommandModalProps = {
  book: BookCardProps
  isOpen: boolean
  onClose: () => void
}

export const CommandModal: FunctionComponent<CommandModalProps> = ({ book, isOpen, onClose }) => {
  return (
    <div className={cn('hidden', isOpen && 'block')}>
      <div className="fixed inset-0 content-center bg-black/30 z-50">
        <div className="rounded-2xl flex flex-col bg-white max-w-3xl mx-auto overflow-hidden aspect-[3/4] sm:aspect-[1119/875]">
          <div className="p-6 px-8 bg-black flex items-center justify-between relative">
            <div className="absolute text-white right-2 top-2 cursor-pointer" onClick={onClose}>
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M6.4 19.0056L5 17.6056L10.6 12.0056L5 6.40562L6.4 5.00562L12 10.6056L17.6 5.00562L19 6.40562L13.4 12.0056L19 17.6056L17.6 19.0056L12 13.4056L6.4 19.0056Z"
                  fill="white"
                />
              </svg>
            </div>
            <svg
              width="70"
              height="70"
              viewBox="0 0 70 70"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M34.6943 2.50073H37.5654L39.5137 2.56909L41.2227 2.67163L43.1367 2.84253L44.8457 3.04761L46.6572 3.32104L48.2979 3.62866L49.9727 4.00464L51.374 4.38062L52.8096 4.82495L53.8691 5.20093L55.0312 5.67944L55.9199 6.0896L56.7402 6.49976L57.6631 7.04663L58.4834 7.59351L59.0645 8.03784L59.5088 8.41382L59.9531 8.82397L60.3291 9.19995L60.6367 9.57593L60.9785 9.98608L61.457 10.6697L61.833 11.2507L62.3457 12.1394L62.8242 13.0623L63.2344 13.9167L63.7471 15.1472L64.123 16.1384L64.6699 17.7449L65.0801 19.1121L65.4902 20.6501L65.9004 22.3933L66.2764 24.2732L66.6182 26.2898L66.8574 27.9988L67.0625 29.7419L67.2676 32.032L67.4043 34.2537L67.4727 36.6462V38.6628L67.4043 40.9529L67.2676 43.1062L67.0967 44.8835L66.8574 46.7634L66.584 48.4382L66.2422 50.113L65.7637 52.0271L65.3877 53.2576L64.9434 54.5564L64.4648 55.7185L64.0205 56.6755L63.6104 57.4617L63.0977 58.3162L62.7217 58.863L62.4141 59.2732L62.1406 59.615L61.7646 60.0593L60.9443 60.8796L60.5684 61.1873L59.9873 61.6316L59.2695 62.1101L58.5859 62.5203L57.9707 62.8621L57.1846 63.2722L55.9541 63.8191L55.0312 64.1951L53.8008 64.6394L52.5361 65.0496L50.9639 65.4939L49.5967 65.8357L47.8535 66.2117L46.2129 66.5193L44.2305 66.8269L42.3164 67.0662L40.1631 67.2712L38.1807 67.408L36.6426 67.4763L35.4463 67.5105H32.4727L30.4561 67.4421L28.7129 67.3396L26.7305 67.1687L24.7139 66.9294L23.1074 66.6902L21.4326 66.3826L19.9971 66.075L18.4932 65.699L16.9893 65.2546L15.6904 64.8103L14.5625 64.366L13.6396 63.9558L12.9219 63.614L12.1699 63.2039L11.4863 62.7937L10.7344 62.281L10.1533 61.8367L9.6748 61.4265L9.16211 60.948L8.92285 60.7087L8.68359 60.4353L8.20508 59.8542L7.76074 59.239L7.38477 58.658L7.07715 58.1453L6.73535 57.53L6.3252 56.7439L5.8125 55.616L5.36816 54.488L4.95801 53.3259L4.65039 52.3689L4.24023 50.8992L3.86426 49.3611L3.55664 47.8914L3.24902 46.114L3.00977 44.4734L2.77051 42.3884L2.59961 40.3035L2.49707 38.3894L2.46289 37.3982V33.5017L2.53125 31.7927L2.63379 30.1179L2.80469 28.2039L3.00977 26.4265L3.2832 24.5466L3.55664 23.0085L3.89844 21.3679L4.24023 19.9324L4.71875 18.2576L5.23145 16.6853L5.67578 15.5232L6.12012 14.4978L6.53027 13.6433L7.00879 12.7205L7.4873 11.9343L7.76074 11.5242L8.10254 11.0457L8.44434 10.6013L8.85449 10.1228L9.23047 9.71265L9.60645 9.33667L9.87988 9.09741L10.4609 8.6189L11.0762 8.17456L11.6572 7.79858L12.3408 7.38843L12.9561 7.04663L13.5029 6.77319L14.4941 6.29468L15.7246 5.78198L16.9551 5.33765L18.1855 4.92749L19.6211 4.51733L21.6719 4.00464L23.3125 3.66284L25.2607 3.32104L27.4482 3.01343L29.3623 2.80835L30.9688 2.67163L32.7119 2.56909L34.6943 2.50073Z"
                fill="white"
              />
              <path
                d="M59.4743 21.8412C59.4541 21.8601 58.8061 22.4732 57.9476 23.4825C56.5843 25.0861 54.6875 27.6899 53.9219 30.5099C53.9219 29.1453 53.6582 27.8215 53.1548 26.5982C53.2357 26.7948 48.535 28.9502 48.1238 29.1302C46.5065 29.8401 44.8539 30.4653 43.1766 31.015C41.4994 31.5646 39.8806 31.9479 38.2542 32.4855C38.1471 32.521 38.04 32.5565 37.9344 32.5921C36.9545 32.924 36.0376 33.2748 35.1806 33.6384C34.8862 33.7632 34.5993 33.8894 34.3191 34.0172C34.1094 34.1124 33.9034 34.2085 33.7011 34.3052C30.5841 35.7984 28.3667 37.436 26.8438 38.8332C26.2235 39.4032 25.7178 39.9324 25.3133 40.3966C24.6698 41.1353 23.6023 41.3296 22.7491 40.8548C22.7349 40.8472 22.7229 40.8397 22.7124 40.8336C23.0705 40.2643 24.0908 38.8112 26.1081 37.0996C26.1089 37.0996 26.1104 37.098 26.1119 37.0965C26.622 36.6641 27.1958 36.215 27.8393 35.7599C29.414 34.6439 31.4044 33.4895 33.8884 32.4446C34.1753 32.3237 34.4697 32.2042 34.7709 32.0863C35.7237 31.7128 36.744 31.3574 37.8362 31.0255C37.8565 31.0187 37.8774 31.0127 37.8977 31.0066C38.3149 30.8811 38.7412 30.7579 39.1794 30.64C39.5112 30.55 39.8394 30.4578 40.1637 30.3633C41.023 30.1138 41.8552 29.8484 42.6613 29.5694C46.5312 28.235 49.7906 26.6148 52.3787 25.0861C52.0551 24.5675 51.6813 24.1063 51.2626 23.6579C51.0775 23.4599 50.8693 23.286 50.6416 23.1408L50.2161 22.8702C51.1951 23.0456 53.459 23.2096 55.7992 22.8762C56.9775 22.7084 58.2338 22.3916 59.4751 21.8412H59.4743Z"
                fill="#E84057"
              />
              <path
                d="M39.3278 29.9981C39.0387 29.2784 38.8911 28.4263 38.8911 27.4646C38.8911 26.503 39.0672 25.6184 39.4132 24.7588C39.7608 23.8946 40.2762 23.1219 40.9444 22.4612C41.6104 21.8034 42.4382 21.2734 43.4053 20.8848C44.3694 20.4993 45.4796 20.3034 46.7051 20.3034C48.0737 20.3034 49.3083 20.5333 50.3758 20.9854C51.2582 21.3604 52.1025 21.9198 52.8928 22.654C51.7436 22.6502 50.7968 22.5534 50.2874 22.4619L48.2228 22.093L48.3614 22.1814C47.8782 22.0869 47.3246 22.0393 46.7051 22.0393C45.7125 22.0393 44.8263 22.1935 44.072 22.4967C43.3206 22.7991 42.6861 23.2028 42.1857 23.6965C41.6883 24.188 41.3033 24.7656 41.0441 25.4112C40.7819 26.0645 40.6493 26.7547 40.6493 27.4646C40.6493 28.3386 40.8081 29.0705 41.1212 29.6405C40.7646 29.7524 40.4066 29.8605 40.0492 29.9649C39.832 30.0284 39.6125 30.0904 39.3923 30.1516C39.3705 30.1009 39.3496 30.0495 39.3286 29.9974L39.3278 29.9981Z"
                fill="#3E3289"
              />
              <path
                d="M54.4429 40.4707C54.4429 41.6433 54.2429 42.7554 53.8496 43.7776C53.4518 44.8073 52.8675 45.7191 52.1132 46.488C51.3581 47.2569 50.4232 47.8693 49.3347 48.3085C48.2515 48.7455 47.011 48.967 45.6468 48.967C44.7082 48.967 43.8512 48.8816 43.1013 48.7123C42.3455 48.5422 41.6406 48.2919 41.0076 47.9691C40.3768 47.6478 39.7873 47.2508 39.2577 46.7912C38.7408 46.3436 38.2374 45.8257 37.7632 45.2534L37.3691 44.7786L37.8785 44.2645C37.9415 44.201 37.9946 44.1526 38.0478 44.114C38.1887 44.0067 38.3685 43.9515 38.5805 43.9515C38.9415 43.9515 39.2105 44.1957 39.4045 44.4081C39.5393 44.5563 39.7311 44.7529 39.9746 44.9918C40.209 45.2231 40.4959 45.4734 40.8278 45.7357C41.1409 45.9845 41.5327 46.2249 41.9919 46.4517C42.4504 46.677 42.9867 46.866 43.5853 47.0127C44.1786 47.1586 44.8723 47.2319 45.6476 47.2319C46.7765 47.2319 47.787 47.0497 48.6523 46.6914C49.516 46.3338 50.2561 45.8476 50.8509 45.2466C51.4435 44.6486 51.9019 43.9409 52.2128 43.1418C52.5267 42.3351 52.6855 41.4626 52.6855 40.5478C52.6855 39.8046 52.5731 39.1627 52.3514 38.6396C52.1289 38.1134 51.8255 37.6567 51.4487 37.2825C51.0569 36.8924 50.5917 36.5536 50.0666 36.2739C49.5093 35.9775 48.904 35.7076 48.268 35.471C47.6162 35.2291 46.942 35.0023 46.2656 34.7974C45.5584 34.5834 44.8573 34.3437 44.1808 34.0859C43.4886 33.8228 42.8272 33.5174 42.2151 33.1787C41.6938 32.8899 41.2188 32.5466 40.7993 32.155C40.8211 32.1482 40.842 32.1429 40.8637 32.1369C41.5514 31.9418 42.2593 31.7407 42.9575 31.5199C43.4444 31.8269 43.9861 32.0923 44.5756 32.313C45.3936 32.6192 46.2379 32.9179 47.0851 33.2014C47.9436 33.4879 48.8043 33.7964 49.6441 34.1169C50.531 34.4564 51.3303 34.8941 52.021 35.4203C52.7349 35.9647 53.3207 36.6451 53.762 37.4427C54.2137 38.26 54.4422 39.2784 54.4422 40.4707H54.4429Z"
                fill="#3E3289"
              />
              <path
                d="M39.4895 35.428C39.4364 36.3186 39.303 37.2024 39.091 38.0605C39.0738 38.127 39.0573 38.1936 39.0401 38.2601C39.0296 38.3002 39.0198 38.338 39.0094 38.375C38.3284 40.8828 36.98 43.1622 35.1095 44.9692C33.2337 46.7806 30.9115 48.041 28.3937 48.6133C27.3659 48.8477 26.3059 48.9664 25.2407 48.9664C24.786 48.9664 24.3268 48.9444 23.8758 48.9006C23.2705 48.8431 22.663 48.7456 22.0674 48.6088C18.9639 47.8973 16.1457 46.1221 14.1328 43.6083C13.1283 42.354 12.3455 40.9523 11.8061 39.4418C11.248 37.8798 10.9648 36.2369 10.9648 34.56C10.9648 30.7118 12.4496 27.0942 15.1464 24.3724C17.8424 21.6514 21.4269 20.153 25.2399 20.153C25.4624 20.153 25.6819 20.1583 25.8932 20.1681C29.4866 20.3314 32.8591 21.845 35.3911 24.4306C36.4174 25.477 37.2699 26.6617 37.9321 27.9591C37.5658 28.0823 37.1358 28.2312 36.6467 28.4044C36.529 28.446 36.4077 28.4671 36.2841 28.4671C35.9095 28.4671 35.5634 28.2766 35.3597 27.9576L35.3507 27.9432C34.9147 27.268 34.4076 26.6307 33.8427 26.0493C31.5976 23.7389 28.4716 22.4097 25.2676 22.4022H25.2399C22.3633 22.4022 19.5826 23.4387 17.4102 25.3205C17.1757 25.5231 16.9443 25.7393 16.7233 25.9631C14.4482 28.2592 13.195 31.3121 13.195 34.56C13.195 37.808 14.4482 40.8601 16.7233 43.1562C18.1638 44.6093 19.9467 45.6753 21.8809 46.2401C22.1101 46.3066 22.3491 46.3694 22.5911 46.4238C23.4533 46.6189 24.3447 46.7171 25.2407 46.7171C26.7846 46.7171 28.2851 46.4283 29.7009 45.8598C31.2208 45.2497 32.5865 44.3402 33.7588 43.1562C34.7664 42.1408 35.5777 40.972 36.1717 39.683C36.2264 39.5658 36.2811 39.4425 36.3335 39.3178C36.6354 38.6018 36.8684 37.8511 37.028 37.089L37.162 36.4433L36.5343 36.2596C35.4488 35.9428 34.3184 35.7826 33.1753 35.7826C32.6472 35.7826 32.1198 35.8173 31.5984 35.8854C32.325 35.4628 33.0854 35.0613 33.8787 34.681C34.072 34.5888 34.2772 34.4928 34.49 34.396C34.7634 34.2712 35.0496 34.1457 35.341 34.0217C35.3574 34.0149 35.3739 34.0081 35.3904 34.0013C35.4241 34.0051 35.4578 34.0096 35.4908 34.0142C35.7919 34.055 36.0901 34.1094 36.3785 34.1745C36.5231 34.207 36.6519 34.2387 36.774 34.272C37.41 34.4413 38.0295 34.6712 38.6191 34.9562C38.9142 35.0983 39.2064 35.2564 39.491 35.4287L39.4895 35.428Z"
                fill="#3E3289"
              />
            </svg>
            <div className="text-white text-right">
              <div className="text-sm font-medium">Total à payer</div>
              <div className="">
                {book.discount_percentage && book.discount_percentage > 0 && (
                  <span className="text-[#AAAAAA] text-sm text-ral line-through">
                    {book.price} FCFA
                  </span>
                )}
                <b className="text-lg">
                  {book.discount_percentage && book.discount_percentage > 0
                    ? book.price - (book.price * book.discount_percentage) / 100
                    : book.price}{' '}
                  FCFA
                </b>
              </div>
            </div>
          </div>
          <div className="p-6 lg:p-8 flex flex-col justify-between flex-1">
            <div className="pb-6 lg:pb-8 border-b border-primary-soft space-y-4 flex items-center flex-col">
              {/* <div className="font-bold">{book.title}</div> */}
              <img src={paymentImage} alt="" />
              <div>Paiement par mobile</div>
            </div>
            <div className="h-full"></div>
            <div>
              <Button variant="secondary" className="w-full">
                Payer
              </Button>
            </div>
          </div>
        </div>
      </div>
    </div>
  )
}
